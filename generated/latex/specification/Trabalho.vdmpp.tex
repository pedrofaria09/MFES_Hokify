\begin{vdmpp}[breaklines=true]
class Trabalho
types
-- TODO Define types here
 public String = seq of char;
 public Escolaridade = <Secundario> | <Licenciatura> | <Mestrado> | <Doutoramento>;
 public ListaEscolaridade = set of Escolaridade;
 public Interesses = set of String;
 public Skills = set of String;
 
values
-- TODO Define values here
instance variables
-- TODO Define instance variables here
 private nome: String;
 private entidade: String;
 private email: String;
 private escolaridade: Escolaridade;
 private telefone: nat1;
 private pais: String;
 private localidade: String;
 private interesses: Interesses := {};
 private skills: Skills := {};
 private listaEscolaridade: ListaEscolaridade := {};
 
operations
-- TODO Define operations here
(*@
\label{Trabalho:27}
@*)

 --Construtor
 public Trabalho: String * String * String * Escolaridade * nat1 * String * String ==> Trabalho
 Trabalho(nomeC,entidadeC,emailC,escolaridadeC,telefoneC,paisC,localidadeC) == (
  nome := nomeC;
  entidade := entidadeC;
  email := emailC;
  escolaridade := escolaridadeC;
  listaEscolaridades(escolaridade);
  telefone := telefoneC;
  pais := paisC;
  localidade := localidadeC;
  return self;
 )
 post interesses = {} and
   skills = {} and
   nome = nomeC and
   entidade = entidadeC and
   email = emailC and
   escolaridade = escolaridadeC and
   telefone = telefoneC and
   pais = paisC and
(*@
\label{addInteresse:49}
@*)
   localidade = localidadeC;
  
(*@
\label{mapEscolaridades:51}
@*)
(*@
\label{listaEscolaridades:51}
@*)
 public listaEscolaridades: Escolaridade ==> ()
 listaEscolaridades(tipo)==(
 if tipo = <Secundario> then (
  listaEscolaridade := listaEscolaridade union {<Secundario>};
(*@
\label{removeInteresse:55}
@*)
  listaEscolaridade := listaEscolaridade union {<Licenciatura>};
  listaEscolaridade := listaEscolaridade union {<Mestrado>};
  listaEscolaridade := listaEscolaridade union {<Doutoramento>};
 )elseif tipo = <Licenciatura> then(
  listaEscolaridade := listaEscolaridade union {<Licenciatura>};
  listaEscolaridade := listaEscolaridade union {<Mestrado>};
(*@
\label{getInteresses:61}
@*)
  listaEscolaridade := listaEscolaridade union {<Doutoramento>};
 )elseif tipo = <Mestrado> then(
  listaEscolaridade := listaEscolaridade union {<Mestrado>};
  listaEscolaridade := listaEscolaridade union {<Doutoramento>};
 )else(
  listaEscolaridade := listaEscolaridade union {<Doutoramento>};
 ););
(*@
\label{addSkills:68}
@*)

 -- Adicionar interesses
 public addInteresse: String ==> ()
 addInteresse(String) == interesses := interesses union {String}
 pre String not in set interesses
 post interesses = interesses~ union {String};
(*@
\label{removeSkills:74}
@*)
 
 -- Remover interesses
 public removeInteresse: String ==> ()
 removeInteresse(String) == interesses := interesses \ {String}
 pre String in set interesses
 post interesses = interesses~ \ {String};
(*@
\label{getSkills:80}
@*)
 
 -- Retorna os interesses
 public pure getInteresses : () ==> Interesses
 getInteresses() ==
 (
  return interesses;
 );
(*@
\label{getNome:87}
@*)
 
 -- Adicionar skills
 public addSkills: String ==> ()
 addSkills(String) == skills := skills union {String}
 pre String not in set skills
 post skills = skills~ union {String};
(*@
\label{getEntidade:93}
@*)
 
 -- Remover skills
 public removeSkills: String ==> ()
 removeSkills(String) == skills := skills \ {String}
 pre String in set skills
 post skills = skills~ \ {String};
(*@
\label{getEmail:99}
@*)
 
 -- Retorna as skills
 public pure getSkills : () ==> Skills
 getSkills() ==
 (
  return skills;
(*@
\label{getEscolaridade:105}
@*)
 );
 
 -- Retorna o nome
 public pure getNome : () ==> String
 getNome() ==
 (
(*@
\label{getTelefone:111}
@*)
  return nome;
 );
 -- Retorna o entidade
 public pure getEntidade : () ==> String
 getEntidade() ==
 (
(*@
\label{getPais:117}
@*)
  return entidade;
 );
 -- Retorna o email
 public pure getEmail : () ==> String
 getEmail() ==
 (
(*@
\label{getLocalidade:123}
@*)
  return email;
 );
 -- Retorna o escolaridade
 public pure getEscolaridade : () ==> Escolaridade
 getEscolaridade() ==
 (
  return escolaridade;
 );
(*@
\label{setNome:131}
@*)
 -- Retorna o telefone
 public pure getTelefone : () ==> nat1
 getTelefone() ==
 (
  return telefone;
 );
(*@
\label{setEntidade:137}
@*)
 -- Retorna o pais
 public pure getPais : () ==> String
 getPais() ==
 (
  return pais;
 );
(*@
\label{setEmail:143}
@*)
 -- Retorna o localidade
 public pure getLocalidade : () ==> String
 getLocalidade() ==
 (
  return localidade;
 );
(*@
\label{setTelefone:149}
@*)
 -- Retorna o listaEscolaridades
 public pure getlistaEscolaridades : () ==> ListaEscolaridade
(*@
\label{getlistaEscolaridades:151}
@*)
 getlistaEscolaridades() ==
(*@
\label{getMapEscolaridades:152}
@*)
 (
  return listaEscolaridade;
 );
(*@
\label{setPais:155}
@*)
 
 -- Editar Nome
 public setNome: String ==> ()
 setNome(newName) == nome := newName
 pre newName <> undefined
 post nome = newName;
(*@
\label{setLocalidade:161}
@*)
 
 -- Editar Entidade
 public setEntidade: String ==> ()
 setEntidade(newEntidade) == entidade := newEntidade
 pre newEntidade <> undefined
 post entidade = newEntidade;
(*@
\label{setEscolaridade:167}
@*)
 
 -- Editar Email
 public setEmail: String ==> ()
 setEmail(newEmail) == email := newEmail
 pre newEmail <> undefined
(*@
\label{similarName:172}
@*)
(*@
\label{nomeSemelhante:172}
@*)
 post email = newEmail;
 
 -- Editar Telefone
 public setTelefone: nat1 ==> ()
 setTelefone(newTelefone) == telefone := newTelefone
 pre newTelefone <> undefined
 post telefone = newTelefone;

 -- Editar Pais
 public setPais: String ==> ()
 setPais(newPais) == pais := newPais
 pre newPais <> undefined
 post pais = newPais;
 
 -- Editar Localidade
 public setLocalidade: String ==> ()
 setLocalidade(newLocalidade) == localidade := newLocalidade
 pre newLocalidade <> undefined
 post localidade = newLocalidade;
 
 -- Editar Escolaridade
 public setEscolaridade: Escolaridade ==> ()
 setEscolaridade(newEscolaridade) == escolaridade := newEscolaridade
 pre newEscolaridade <> undefined
 post escolaridade = newEscolaridade;
 
 public pure nomeSemelhante: String ==> bool
 nomeSemelhante(n) == (
  dcl nameS: seq of char := nome;
  dcl found: bool := false;
  
  while len nameS >= len n and not found do (
   found := true;
 
   for index = 1 to len n do
    if found and n(index) <> nameS(index) then (
     found := false;
    );
   
   if found then
    return true
   else (
    nameS := tl nameS;
    found := false;
   );
  );
   
  return false;
 )
 pre len n > 0;
  
functions
-- TODO Define functiones here
traces
-- TODO Define Combinatorial Test Traces here
end Trabalho
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Trabalho:27]{Trabalho} & 27&100.0\% & 152 \\
\hline
\hyperref[addInteresse:49]{addInteresse} & 49&100.0\% & 32 \\
\hline
\hyperref[addSkills:68]{addSkills} & 68&100.0\% & 32 \\
\hline
\hyperref[getEmail:99]{getEmail} & 99&100.0\% & 80 \\
\hline
\hyperref[getEntidade:93]{getEntidade} & 93&100.0\% & 55 \\
\hline
\hyperref[getEscolaridade:105]{getEscolaridade} & 105&100.0\% & 24 \\
\hline
\hyperref[getInteresses:61]{getInteresses} & 61&100.0\% & 121 \\
\hline
\hyperref[getLocalidade:123]{getLocalidade} & 123&100.0\% & 56 \\
\hline
\hyperref[getMapEscolaridades:152]{getMapEscolaridades} & 152&100.0\% & 69 \\
\hline
\hyperref[getNome:87]{getNome} & 87&100.0\% & 64 \\
\hline
\hyperref[getPais:117]{getPais} & 117&100.0\% & 37 \\
\hline
\hyperref[getSkills:80]{getSkills} & 80&100.0\% & 121 \\
\hline
\hyperref[getTelefone:111]{getTelefone} & 111&100.0\% & 18 \\
\hline
\hyperref[getlistaEscolaridades:151]{getlistaEscolaridades} & 151&100.0\% & 69 \\
\hline
\hyperref[listaEscolaridades:51]{listaEscolaridades} & 51&100.0\% & 106 \\
\hline
\hyperref[mapEscolaridades:51]{mapEscolaridades} & 51&100.0\% & 106 \\
\hline
\hyperref[nomeSemelhante:172]{nomeSemelhante} & 172&100.0\% & 60 \\
\hline
\hyperref[removeInteresse:55]{removeInteresse} & 55&100.0\% & 9 \\
\hline
\hyperref[removeSkills:74]{removeSkills} & 74&100.0\% & 9 \\
\hline
\hyperref[setEmail:143]{setEmail} & 143&100.0\% & 9 \\
\hline
\hyperref[setEntidade:137]{setEntidade} & 137&100.0\% & 9 \\
\hline
\hyperref[setEscolaridade:167]{setEscolaridade} & 167&100.0\% & 9 \\
\hline
\hyperref[setLocalidade:161]{setLocalidade} & 161&100.0\% & 9 \\
\hline
\hyperref[setNome:131]{setNome} & 131&100.0\% & 9 \\
\hline
\hyperref[setPais:155]{setPais} & 155&100.0\% & 9 \\
\hline
\hyperref[setTelefone:149]{setTelefone} & 149&100.0\% & 9 \\
\hline
\hyperref[similarName:172]{similarName} & 172&100.0\% & 9 \\
\hline
\hline
Trabalho.vdmpp & & 100.0\% & 1292 \\
\hline
\end{longtable}

